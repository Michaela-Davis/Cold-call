

<div id='scoreBoard'>
  <div class='points'>
    <div class='panel panel-info'>
      <div class='panel-heading teal-panel-heading'>
        <h3 class='panel-title'>Today's Points</h3>
      </div>
      <div class='panel-body'>
        {{displayPoints[0]}}
      </div>
    </div>
  </div>

  <div class='points'>
    <div class='panel panel-success'>
      <div class='panel-heading'>
        <h3 class='panel-title'>Lifetime Points</h3>
      </div>
      <div class='panel-body'>
        {{displayPoints[3]}}
      </div>
    </div>
  </div>

  <div *ngIf='displayPoints[1]' class='points'>
    <div class='panel panel-primary'>
      <div class='panel-heading'>
        <h3 class='panel-title'>Points Since {{pointsFromDate}}</h3>
      </div>
      <div class='panel-body'>
        {{displayPoints[1]}}
      </div>
    </div>
  </div>
</div>


<p id='pointLabel'>Points since <input [(ngModel)]='date' type='date' (change)='setDate(date)'></p><br><br>
<label>Filter calls by: </label>
<select [(ngModel)]='filter'>
  <option></option>
  <option value='location'>Location</option>
  <option value='business'>Business Name</option>
  <option value='client'>Client Name</option>
</select>

<input [(ngModel)]='text'>

<label>Timeframe</label>
<select [(ngModel)]='filterByDate'>
  <option></option>
  <option value='on'>On</option>
  <option value='before'>Before</option>
  <option value='after'>After</option>
</select>

<input type='date' [(ngModel)]='selectedDate'>
<label (click)='toggleTableView()'><span class="tableViewIcon">&nbsp;&#8862;</span> Switch View</label>

<br><br>
<div *ngIf="!tableView">
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Date</th>
        <th>Company</th>
        <th>Agent</th>
        <th>Location</th>
        <th>Number</th>
        <th>E-mail</th>
        <th>Points</th>
      </tr>
    </thead>
    <tbody *ngFor='let call of calls | async | callFilter:filter:text | date:filterByDate:selectedDate'>
      <tr (click)="checkDetails(call)" class="clickable">
        <td>{{call.date}}</td>
        <td>{{call.nameCompany}}</td>
        <td>{{call.nameClient}}</td>
        <td>{{call.location}}</td>
        <td>{{call.phoneNumber}}</td>
        <td>{{call.email}}</td>
        <td>{{call.points}}</td>
      </tr>
    </tbody>
  </table>

</div>
<div *ngFor='let call of calls | async | callFilter:filter:text | date:filterByDate:selectedDate'>

  <div *ngIf="tableView">
    <h3 (click)="checkDetails(call)" class="clickable"> {{call.nameCompany}}</h3>
    <span class="list-tile-points list-tile-indent">{{call.points}}</span>
    <h4 class="list-tile-indent">{{call.nameClient}}</h4>
    <p class="list-tile-indent">{{call.location}}</p>
    <p class="list-tile-indent">{{call.date}}</p>
  </div>
</div>

<!-- <div class="row">
  <div class="col-md-6">
    <div style="display: block;">
    <canvas baseChart width="400" height="400"
                [datasets]="lineChartData"
                [labels]="lineChartLabels"
                [options]="lineChartOptions"
                [colors]="lineChartColors"
                [legend]="lineChartLegend"
                [chartType]="lineChartType"
                (chartHover)="chartHovered($event)"
                (chartClick)="chartClicked($event)"></canvas>
    </div>
  </div>
  <div class="col-md-6" style="margin-bottom: 10px">
    <table class="table table-responsive table-condensed">
      <tr>
        <th *ngFor="let label of lineChartLabels">{{label}}</th>
      </tr>
      <tr *ngFor="let d of lineChartData">
        <td *ngFor="let label of lineChartLabels; let j=index">{{d && d.data[j]}}</td>
      </tr>
    </table>
    <button (click)="randomize()" class="btn">CLICK</button>
  </div>
</div> -->
