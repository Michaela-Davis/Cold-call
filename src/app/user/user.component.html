<label>Filter calls by: </label>
<select [(ngModel)]='filter'>
  <option></option>
  <option value='location'>Location</option>
  <option value='business'>Business Name</option>
  <option value='client'>Client Name</option>
</select>

<input [(ngModel)]='text'>

<label>Timeframe</label>
<select [(ngModel)]='filterByDate'>
  <option></option>
  <option value='on'>On</option>
  <option value='before'>Before</option>
  <option value='after'>After</option>
</select>

<input type='date' [(ngModel)]='selectedDate'>
<label (click)='toggleTableView()'><span class="tableViewIcon">&nbsp;&#8862;</span></label>
<h2>User Point Total: {{displayPoints}}</h2>

<div *ngIf="tableView">
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Date</th>
        <th>Company</th>
        <th>Agent</th>
        <th>Location</th>
        <th>Number</th>
        <th>E-mail</th>
        <th>Points</th>
      </tr>
    </thead>
    <tbody *ngFor='let call of calls | async | callFilter:filter:text | date:filterByDate:selectedDate'>
      <tr (click)="checkDetails(call)" class="clickable">
        <td>{{call.date}}</td>
        <td>{{call.nameCompany}}</td>
        <td>{{call.nameClient}}</td>
        <td>{{call.location}}</td>
        <td>{{call.phoneNumber}}</td>
        <td>{{call.email}}</td>
        <td>{{call.points}}</td>
      </tr>
    </tbody>
  </table>

</div>


<div *ngFor='let call of calls | async | callFilter:filter:text | date:filterByDate:selectedDate'>

  <div *ngIf="!tableView">
    <h3 (click)="checkDetails(call)" class="clickable"> {{call.nameCompany}}</h3>
    <span class="list-tile-points list-tile-indent">{{call.points}}</span>
    <h4 class="list-tile-indent">{{call.nameClient}}</h4>
    <p class="list-tile-indent">{{call.location}}</p>
    <p class="list-tile-indent">{{call.date}}</p>
  </div>



</div>
